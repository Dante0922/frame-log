server:
  port: ${SERVER_PORT:8080}

spring:
  application:
    name: backend
  config:
    import: optional:file:.env[.properties]
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/framelog?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:password}
  jpa:
    open-in-view: false
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        format_sql: true
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

management:
  endpoints:
    web:
      exposure:
        include: health,info

app:
  cors:
    allowed-origins: ${CORS_ALLOWED_ORIGINS:http://localhost:5173}
  rate-limit:
    review-max-per-minute: 5
  weather:
    kma:
      service-key: ${KMA_SERVICE_KEY:}
      base-url: https://apis.data.go.kr/1360000/VilageFcstInfoService_2.0
  admin:
    username: ${ADMIN_USERNAME:admin}
    password: ${ADMIN_PASSWORD:changeme}
  storage:
    base-path: ${STORAGE_BASE_PATH:${user.home}/Desktop/Database/frame-log/storage}
    base-url: /api/images
    max-file-size-mb: 10
  ai:
    claude:
      api-key: ${CLAUDE_API_KEY:}
      model: claude-sonnet-4-20250514
      max-tokens: 1024
